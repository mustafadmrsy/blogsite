<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kategoriler - Senirkent MYO Blog</title>
    <link rel="stylesheet" href="styles/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="senirkenblog/js/main.js" defer></script>
</head>
<body>
    <header>
        <div class="header-left">
            <a href="index.html" class="logo-link">
                <h1>Senirkent MYO Blog</h1>
            </a>
            <a href="index.html" class="nav-link">Ana Sayfa</a>
            <a href="#" class="nav-link" id="write-button">Sende Yaz</a>
            <a href="kategoriler.html" class="nav-link">Kategoriler</a>
            <a href="hakkimizda.html" class="nav-link">Hakkımızda</a>
            <a href="iletisim.html" class="nav-link">İletişim</a>
        </div>
    </header>
    <main>
        <section class="categories-section">
            <h2 class="section-title">Kategoriler</h2>
            <div class="categories-grid">
                <div class="category-card" data-category="Web Geliştirme">
                    <div class="category-icon">
                        <i class="fas fa-code"></i>
                    </div>
                    <h3>Web Geliştirme</h3>
                    <p>Web teknolojileri ve geliştirme araçları</p>
                    <span class="post-count">0 Yazı</span>
                </div>
                <div class="category-card" data-category="Eğitim">
                    <div class="category-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3>Eğitim</h3>
                    <p>Eğitim teknolojileri ve yöntemleri</p>
                    <span class="post-count">0 Yazı</span>
                </div>
                <div class="category-card" data-category="Yapay Zeka">
                    <div class="category-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3>Yapay Zeka</h3>
                    <p>Yapay zeka ve makine öğrenimi</p>
                    <span class="post-count">0 Yazı</span>
                </div>
                <div class="category-card" data-category="Mobil Geliştirme">
                    <div class="category-icon">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h3>Mobil Geliştirme</h3>
                    <p>Mobil uygulama geliştirme</p>
                    <span class="post-count">0 Yazı</span>
                </div>
                <div class="category-card" data-category="Siber Güvenlik">
                    <div class="category-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>Siber Güvenlik</h3>
                    <p>Güvenlik ve ağ teknolojileri</p>
                    <span class="post-count">0 Yazı</span>
                </div>
                <div class="category-card" data-category="Veri Bilimi">
                    <div class="category-icon">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h3>Veri Bilimi</h3>
                    <p>Veri analizi ve görselleştirme</p>
                    <span class="post-count">0 Yazı</span>
                </div>
            </div>
        </section>

        <section class="blog-posts-section" id="blog-posts">
            <h2 class="section-title">Blog Yazıları</h2>
            <div class="posts-grid">
                <!-- Blog yazıları buraya dinamik olarak eklenecek -->
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="contact-info">
                <a href="#" class="contact-link"><i class="fas fa-envelope"></i> info@senirkentmyo.edu.tr</a>
                <a href="#" class="contact-link"><i class="fas fa-phone"></i> +90 246 XXX XX XX</a>
                <a href="#" class="contact-link"><i class="fas fa-map-marker-alt"></i> Senirkent, Isparta</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Senirkent MYO Blog. Tüm hakları saklıdır.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const categoryCards = document.querySelectorAll('.category-card');
            const blogPostsGrid = document.querySelector('.posts-grid');
            let selectedCategory = null;

            function updatePostCounts(data) {
                const categories = {};
                data.blogPosts.forEach(post => {
                    post.tags.forEach(tag => {
                        categories[tag] = (categories[tag] || 0) + 1;
                    });
                });

                categoryCards.forEach(card => {
                    const category = card.dataset.category;
                    const count = categories[category] || 0;
                    const countElement = card.querySelector('.post-count');
                    countElement.textContent = `${count} Yazı`;
                });
            }

            categoryCards.forEach(card => {
                card.addEventListener('click', function() {
                    const category = this.dataset.category;
                    
                    // Seçili kategoriyi güncelle
                    categoryCards.forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    
                    loadBlogPosts(category);
                });
            });

            function loadBlogPosts(category) {
                fetch('senirkenblog/blogPosts.json')
                    .then(response => response.json())
                    .then(data => {
                        updatePostCounts(data);
                        const filteredPosts = category 
                            ? data.blogPosts.filter(post => post.tags.includes(category))
                            : data.blogPosts;
                        displayPosts(filteredPosts, category);
                    })
                    .catch(error => console.error('Blog yazıları yüklenirken hata:', error));
            }

            function displayPosts(posts, category) {
                blogPostsGrid.innerHTML = '';
                if (posts.length === 0) {
                    blogPostsGrid.innerHTML = `
                        <div class="no-posts">
                            <i class="fas fa-inbox"></i>
                            <p>Bu kategoride henüz blog yazısı bulunmuyor.</p>
                        </div>
                    `;
                    return;
                }

                posts.forEach(post => {
                    const postElement = document.createElement('article');
                    postElement.className = 'blog-post-card';
                    postElement.innerHTML = `
                        <div class="post-meta">
                            <span class="post-date"><i class="far fa-calendar-alt"></i> ${post.date}</span>
                            <span class="post-author"><i class="far fa-user"></i> ${post.author}</span>
                        </div>
                        <h3 class="post-title">${post.title}</h3>
                        <p class="post-preview">${post.preview}</p>
                        <div class="post-tags">
                            ${post.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                        </div>
                        <a href="${post.link}" class="read-more">Devamını Oku <i class="fas fa-arrow-right"></i></a>
                    `;
                    blogPostsGrid.appendChild(postElement);
                });
            }

            // Sayfa yüklendiğinde tüm blog yazılarını göster
            loadBlogPosts();
        });
    </script>
</body>
</html>